<script>

function computerPlay() {
    let options = ["rock","paper","scissors"]
    return options[Math.floor(Math.random()*3)]
}
function playRound(playerSelection, computerSelection) {
if ((playerSelection.toLowerCase() === "rock" && computerSelection==="rock") || (playerSelection.toLowerCase() === "paper" && computerSelection==="paper") || (playerSelection.toLowerCase() === "scissors" && computerSelection==="scissors")) {
    console.log(`You chose ${playerSelection.toLowerCase()}. The computer chose ${computerSelection}`)
    console.log(`It's a tie! You both chose ${computerSelection}.`);
    return "tie";
  }
  else if((playerSelection.toLowerCase() === "rock" && computerSelection==="paper")||(playerSelection.toLowerCase() === "paper" && computerSelection==="scissors")||(playerSelection.toLowerCase() === "scissors" && computerSelection==="rock")) {
    console.log(`You chose ${playerSelection.toLowerCase()}. The computer chose ${computerSelection}`)
    console.log(`You lose! ${computerSelection.charAt(0).toUpperCase() + computerSelection.slice(1)} beats ${playerSelection.toLowerCase()}.`)
    return "computerWin";
}
else if((playerSelection.toLowerCase() === "rock" && computerSelection==="scissors")||(playerSelection.toLowerCase() === "paper" && computerSelection==="rock")||(playerSelection.toLowerCase() === "scissors" && computerSelection==="paper") ) {
    console.log(`You chose ${playerSelection.toLowerCase()}. The computer chose ${computerSelection}`)
    console.log(`You win! ${playerSelection.charAt(0).toUpperCase()+playerSelection.slice(1).toLowerCase()} beats ${computerSelection}.`);
    return "playerWin";
    }
else {
  console.log("Wrong input. Please write 'rock', 'paper' or 'scissors'")
  return"wrongInput";
  }
}
function game(){
    let playerScore=0;
    let computerScore=0;
    for (i=0;i<5;){
      let round=playRound(prompt("rock, paper or scissors?"), computerPlay())
      if (round==="playerWin") {
        playerScore++;
        i++
        console.log(`Player score ${playerScore}. Computer score ${computerScore}`)
      }
      else if (round==="computerWin"){
        computerScore++;
        i++
        console.log(`Player score ${playerScore}. Computer score ${computerScore}`);
      }
      else if (round==="tie"){
        i++
        console.log(`Player score ${playerScore}. Computer score ${computerScore}`);
      }
    }
    let winner = playerScore>computerScore?"Player": (computerScore>playerScore?"Computer":"Tie");
    let winnerDescription=""
    if (winner==="Tie"){
       winnerDescription=`It's a tie!`
       }
       else {
        winnerDescription=`${winner} is the winner!`
       }
    console.log(`Final score: Player ${playerScore}. Computer ${computerScore}. ${winnerDescription}`)
    }
</script>